<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>健肌尋食-教練會員</title>
<link th:href="@{css/bootstrap.css}" rel='stylesheet' type='text/css' />
<link th:href="@{css/style.css}" rel='stylesheet' type='text/css' />
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link
	href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800'
	rel='stylesheet' type='text/css'>
<link
	href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700'
	rel='stylesheet' type='text/css'>
<script type="application/x-javascript">
	
	
	 addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } 


</script>
<script th:src="@{js/jquery.min.js}"></script>

<!-- grid-slider -->
<script type="text/javascript" src="js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="js/jquery.contentcarousel.js"></script>
<!-- //grid-slider -->
<!---calender-style---->
<link rel="stylesheet" href="css/jquery-ui.css" />
<!---//calender-style---->
<style>
.btn-login {
	margin: bottom 50px;
	float: right;
	padding-right: 20px;
	padding-top: 5px;
	padding-bottom: 10px;
	border: 1px solid black;
	background-color: white;
}

.social {
	padding-top: 4px;
	padding-right: 10px;
}

.container-data {
	height: auto;
	width: auto;
	margin: auto;
	/* padding: 20px; */
	background-color: #fff;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	display: flex;
	flex-direction: row;
	/* gap: 20px; */
	/* flex-wrap: wrap; */
	background-color: #e0f7f9;
	/* place-items: center; */
	/* background-color: red; */
}

.sidebar {
	width: 20%;
	height: 600px;
	overflow-y: auto;
	padding-top: 50px;
	/* padding-right: 20px; */
	border-right: 1px solid #d0e5d2;
	background-color: #eaf5e1;
	color: #4b6e4f;
	text-align: center;
	display: flex;
	flex-direction: column;
	gap: 50px;
	/* border: 1px solid black; */
}

.sidebar a {
	border-bottom: 1px solid #ccc;
	padding-bottom: 50px;
}

h2 {
	display: block;
	width: 100%;
	text-align: center;
	margin: 0;
	padding: 20px;
	border-bottom: 3px solid black;
	font-weight: bold
}

.form-skill {
	width: 80vw;
	position: relative; /* 設置容器相對定位 */
}

.scroll-to-top-btn {
	position: fixed;
	bottom: 10px;
	right: 10px;
	padding: 10px 15px;
	background-color: #007bff;
	color: #fff;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	z-index: 1000;
}

/* 中間內容區域的樣式 */
.middle-content {
	display: flex;
	flex-direction: column;
	gap: 0px; /* 各部分之間的間距 */
	padding: 0px;
	box-sizing: border-box;
	margin: 0 30%; /* 左右邊距各15% */
}

.back-button {
	position: absolute; /* 設置按鈕絕對定位 */
	top: 10px; /* 上邊距 */
	left: 10px; /* 左邊距 */
	background-color: #007bff; /* 按鈕背景顏色 */
	color: white; /* 按鈕文字顏色 */
	border: none; /* 去掉邊框 */
	padding: 10px 20px; /* 內邊距 */
	font-size: 16px; /* 字體大小 */
	cursor: pointer; /* 鼠標懸停時顯示手形 */
	border-radius: 5px; /* 圓角邊框 */
	z-index: 1000; /* 確保按鈕在最上層 */
}

.back-button:hover {
	background-color: #0056b3; /* 懸停時的背景顏色 */
}

.middle-content div {
	display: flex;
	flex-direction: column;
}

.middle-content label {
	margin-bottom: 5px;
	font-weight: bold;
}

.middle-content select, .middle-content input, .middle-content button {
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
}

.middle-content button {
	background-color: #007bff;
	color: #fff;
	cursor: pointer;
	width: 30%; /* 按鈕寬度設置為現在的30% */
	align-self: center; /* 將按鈕置中 */
}

.middle-content button:hover {
	background-color: #0056b3;
}

.radio-group {
	display: flex; /* 强制使用 flex 排列 */
	flex-direction: row !important; /* 强制改为左右排列 */
	gap: 20px; /* 强制使用 5px 的间距 */
	flex-wrap: wrap; /* 强制在空间不足时换行 */
}

.radio-group label {
	display: flex; /* 强制让标籤与 radio 保持在一行 */
	align-items: center; /* 强制垂直置中 */
}

/* 在視窗變窄時，選項上下排列 */
@media ( max-width : 768px) {
	.radio-group {
		flex-direction: column; /* 强制改为上下排列 */
		gap: 5px; /* 强制使用 5px 的间距 */
	}
}

#lightbox {
	/*   border: 1px solid red; */
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100vh;
	background-color: hsla(0, 0%, 0%, .5);
}

.-on {
	display: none !important;
}

#lightbox>article {
	background-color: white;
	width: 90%;
	max-width: 800px;
	border-radius: 10px;
	box-shadow: 0 0 10px #ddd;
	padding: 10px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}

h2 {
	text-align: center;
}

.button0 {
	/* background-color: black; */
	position: absolute;
	/* 設定內容的定位為 absolute */
	top: 350px;
	right: 30px;
	bottom: 20px;
	left: 180px;
}

.button0 input {
	margin-right: 200px;
	float: right;
	background: #00BFF0;
	border: none;
	color: #FFF;
	padding: 10px 20px;
	cursor: pointer;
	font-family: 'Open Sans', sans-serif;
	outline: none;
	font-size: 1em;
	border-radius: 5px;
	transition: background 0.3s;
}

.button1 {
	/* background-color: black; */
	position: absolute;
	/* 設定內容的定位為 absolute */
	top: 265px;
	right: 10px;
	bottom: 20px;
	left: 200px;
}

.button1 input {
	margin-right: 100px;
	float: right;
	background: #00BFF0;
	border: none;
	color: #FFF;
	padding: 10px 20px;
	cursor: pointer;
	font-family: 'Open Sans', sans-serif;
	outline: none;
	font-size: 1em;
	border-radius: 5px;
	transition: background 0.3s;
}

.clear {
	clear: both;
}
</style>
</head>

<body>
	<div class="menu">
		<div class="container">
			<div class="logo">
				<a th:href="@{/index}"><img th:src="@{images/logo.png}" alt="" /></a>
			</div>
			<div class="h_menu4">
				<!-- start h_menu4 -->
				<a class="toggleMenu" href="#">Menu</a>
				<ul class="nav">
					<li><a th:href="@{/index}">首頁</a></li>
					<li class="active"><a th:href="@{/account_information}">會員專區</a></li>
					<li><a th:href="@{/trainers}">專屬你的訓練</a></li>
					<li><a th:href="@{/menu}">健康餐</a></li>
					<li><a th:href="@{/pricing}">購物商城</a></li>
					<li><a th:href="@{/map}">美食地圖</a></li>
					<li><a th:href="@{/qa}">客服</a></li>
					<li><a th:href="@{/logout}" class="logout-button">登出</a></li>
				</ul>
				<script type="text/javascript" src="js/nav.js"></script>
			</div>
			<!-- end h_menu4 -->
			<div class="clear"></div>
		</div>
	</div>
	<div class="container-data">
		<div class="sidebar">
			<a class="nav-link" th:href="@{/coach_account_information}">修改帳戶資料</a>
			<a class="nav-link" th:href="@{/coach_change_password}">修改密碼</a> <a
				class="nav-link" th:href="@{/coach_receipt_information}">常用收件資訊</a>
			<a class="nav-link" th:href="@{/coach_acc_information}">新增信用卡資訊</a> <a
				class="nav-link" th:href="@{/coach_course_status}">查看課程狀態</a> <a
				class="nav-link" th:href="@{/coach_course_products}">登錄課程商品</a>
		</div>
		<div class="content-data">
			<h2>
				教練會員 (<span th:text="${name}"></span>)<br> 新增/修改技能
			</h2>
			<form class="form-skill" method="post"
				th:action="@{/coach_account_skill}">
				<input type="hidden" name="cMemberID" id="cMemberID" value="">
				<button type="button" class="back-button"
								onclick="window.location.href='/coach_account_information'">返回</button>
				<div class="middle-content">
					<div id="lightbox" class="-on">
						<article>
							<h1 id="messageContent" th:if="${message}" th:text="${message}"
								style="color: black"></h1>
							<button type="button" class="btn_modal_close">關閉</button>
						</article>
					</div>
					<div>
						<label>運動種類：</label>
						<div class="radio-group">
							<label><input type="radio" name="sportTypes" value="心肺運動"
								checked> 心肺運動</label> <label><input type="radio"
								name="sportTypes" value="重量運動"> 重量訓練</label>
						</div>
					</div>
					<div>
						<label for="exercise-item1">運動項目：</label> <select
							id="exercise-item1" name="sportEventName">
							<!-- 填充運動項目 -->
						</select>
					</div>
					<div>
						<label for="exercise-item">運動器材：</label> <select
							id="exercise-item" name="sportEquipment">
							<!-- 填充運動器材 -->
						</select>
					</div>
					<div>
						<label for="target-area">專長的部位：</label> <input type="text"
							id="target-area" name="target-area" placeholder="ex:臀部">
					</div>
					<div>
						<label for="level">運動等級：</label> <select id="level"
							name="courseLevel">
							<option value="初級">初級</option>
							<option value="中級">中級</option>
							<option value="高級">高級</option>
							<option value="最高級">最高級</option>
						</select>
					</div>
					<div>
						<label for="loseWeight">目標減掉幾公斤</label> <input type="text"
							id="loseWeight" name="loseWeight" placeholder="5公斤">
					</div>
					<div>
						<input type="submit" class="submit-button" value="送出">
						<a id="completePageLink" th:href="@{/coach_account_skill}" style="display:none;"></a>
					</div>
				</div>
			</form>
		</div>
	</div>
	<!-- end menu -->
	<div class="footer-bottom">
		<div class="container">
			<div class="row section group">
				<div class="col-md-4">
					<div class="social"
						style="width: 100%; height: 100%; max-width: 200px; max-height: 200px; margin-right: 100px;">
						<img src="images/cutecatloge.png"
							style="width: 100%; height: 100%" />
					</div>
				</div>
				<div class="col-md-4">
					<div class="f-logo">
						<h1>健肌尋食</h1>
					</div>
					<p class="m_9">
						「健肌尋食」是一個簡單的概念，意思是通過運動來增強肌肉，同時尋找健康的食物來補充營養，這樣可以讓我們的身體更強壯，生活更健康愉快。</p>
					<p class="address">
						Phone : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="m_10">(02)
							3333 4444</span>
					</p>
					<p class="address">
						Email : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="m_10">TIA102G3@Tibeme.com</span>
					</p>
				</div>
				<div class="col-md-4">
					<ul class="list">
						<h4 class="m_7">關於我們</h4>
						<li><a href="#">隱私權政策</a></li>
						<li><a href="#">著作權聲明</a></li>
						<li><a href="#">聯絡我們</a></li>
					</ul>
					<ul class="list1">
						<h4 class="m_7">相關網站</h4>
						<li><a href="https:/www.google.com">google</a></li>
						<li><a href="https:/www.youtube.com">youtube</a></li>
						<li><a href="#">Support</a></li>
					</ul>
				</div>
				<div class="clear"></div>
			</div>
		</div>
	</div>
	<div class="copyright">
		<div class="container">
			<div class="copy">
				<p>Copyright © 2024 健肌尋食 by TIA102G3</p>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<script src="script.js"></script>
	<script>
	$(document).ready(function () {
        var messageContent = $("#messageContent").text().trim();
        console.log("檢查燈箱內容:", messageContent);

        if (messageContent.length > 0) {
            console.log("燈箱內有消息");

            // 移除 -on class 並顯示燈箱
            $("#lightbox").removeClass("-on").fadeIn(1000);

            // 點擊關閉按鈕關閉燈箱
            $("button.btn_modal_close").on("click", function () {
                console.log("關閉按鈕被點擊");
                $("#lightbox").fadeOut(1000, function () {
                    $("#lightbox").addClass("-on");
                });
            });

            // 防止點擊燈箱內部時關閉燈箱
            $("#lightbox > article").on("click", function (e) {
                e.stopPropagation();
            });

            // 點擊燈箱背景關閉燈箱
            $("#lightbox").on("click", function () {
                console.log("背景被點擊");
                $(this).fadeOut(1000, function () {
                    $(this).addClass("-on");
                });
            });
        } else {
            console.log("燈箱內無消息");
        }

        $('input[name="sportTypes"]').change(function () {
            let selectType = $("input[name='sportTypes']:checked").val();

            $.ajax({
                url: '/course/getSportEventsAndEquipment',
                data: {sportType: selectType},
                dataType: 'json',
                success: function (data) {
                    var $sportEventSelect = $('#exercise-item1');
                    var $sportEquipmentSelect = $('#exercise-item');

                    $sportEventSelect.empty();
                    $sportEquipmentSelect.empty();

                    // 處理運動項目名稱
                    $.each(data.sportEvents, function (index, sportEventName) {
                        $sportEventSelect.append($('<option>', {
                            value: sportEventName,
                            text: sportEventName
                        }));
                    });
                    $sportEventSelect.trigger('change');
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.error('您的網路有問題：', jqXHR.responseText);
                    alert('您的網路有問題，請稍後再試1111。');
                }
            });
        });
        $('input[name="sportTypes"]:checked').trigger('change');

        $('#exercise-item1').change(function () {
            let selectedSportEvent = $(this).val();
            $.ajax({
                url: '/trainers/getEquipmentBySportEvent',
                data: {sportEventName: selectedSportEvent},
                dataType: 'json',
                success: function (data) {
                    let $sportEquipmentSelect = $('#exercise-item');
                    $sportEquipmentSelect.empty();
                    $.each(data, function (index, sportEquipment) {
                        $sportEquipmentSelect.append($('<option>', {
                            value: sportEquipment,
                            text: sportEquipment
                        }));
                    });
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.error('您的網路有問題：', jqXHR.responseText);
                    alert('您的網路有問題，請稍後再試。');
                }
            });
        });
    });

    function scrollToTop() {
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    document.querySelector('form').addEventListener('submit', function(event) {
        event.preventDefault();  // 阻止表單的默認提交行為

        const form = this;
        const formData = new FormData(form);
        
        // 使用Fetch API來提交表單
        fetch(form.action, {
            method: form.method,
            body: formData
        })
        .then(response => {
            if (response.ok) {
                // 提交成功，顯示成功提示並自動跳轉到完成頁面
                alert("提交成功！");
                document.getElementById('completePageLink').click();
            } else {
                // 提交失敗，顯示錯誤提示
                alert("提交失敗，請稍後再試。");
            }
        })
        .catch(error => {
            console.error('錯誤:', error);
            alert("提交失敗，請稍後再試。");
        });
    });
    </script>
</body>

</html>